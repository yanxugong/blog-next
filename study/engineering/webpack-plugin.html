<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€æ’ä»¶(plugin) | Yanxu Gong's Blog</title>
    <meta name="description" content="Personal blog based on Github Action + VitePress">
    <link rel="stylesheet" href="/blog-next/assets/style.88a1b92e.css">
    <link rel="modulepreload" href="/blog-next/assets/chunks/AlgoliaSearchBox.dd75b3aa.js">
    <link rel="modulepreload" href="/blog-next/assets/app.acdedced.js">
    <link rel="modulepreload" href="/blog-next/assets/study_engineering_webpack-plugin.md.b64db039.lean.js">
    
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
  <meta name="twitter:title" content="ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€æ’ä»¶(plugin) | Yanxu Gong&#39;s Blog">
  <meta property="og:title" content="ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€æ’ä»¶(plugin) | Yanxu Gong&#39;s Blog">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-95cd145e><div class="sidebar-button" data-v-95cd145e><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/blog-next/" aria-label="Yanxu Gong&#39;s Blog, back to home" data-v-95cd145e data-v-2627e0f1><img class="logo" src="/blog-next/logo.svg" alt="Logo" data-v-2627e0f1> Yanxu Gong&#39;s Blog</a><div class="flex-grow" data-v-95cd145e></div><div class="nav" data-v-95cd145e><nav class="nav-links" data-v-95cd145e data-v-b68e4bf6><!--[--><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item active" href="/blog-next/study/" data-v-43e5dab6>å­¦ä¹  <!----></a></div></div><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item" href="/blog-next/photography/" data-v-43e5dab6>æ‘„å½± <!----></a></div></div><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item" href="/blog-next/emotion/" data-v-43e5dab6>æƒ…æ„Ÿ <!----></a></div></div><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item" href="/blog-next/about/" data-v-43e5dab6>å…³äº <!----></a></div></div><!--]--><!----><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item isExternal" href="https://github.com/yanxugong/blog-next" target="_blank" rel="noopener noreferrer" data-v-43e5dab6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-43e5dab6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-1c2cc348><nav class="nav-links nav" data-v-1c2cc348 data-v-b68e4bf6><!--[--><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item active" href="/blog-next/study/" data-v-43e5dab6>å­¦ä¹  <!----></a></div></div><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item" href="/blog-next/photography/" data-v-43e5dab6>æ‘„å½± <!----></a></div></div><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item" href="/blog-next/emotion/" data-v-43e5dab6>æƒ…æ„Ÿ <!----></a></div></div><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item" href="/blog-next/about/" data-v-43e5dab6>å…³äº <!----></a></div></div><!--]--><!----><div class="item" data-v-b68e4bf6><div class="nav-link" data-v-b68e4bf6 data-v-43e5dab6><a class="item isExternal" href="https://github.com/yanxugong/blog-next" target="_blank" rel="noopener noreferrer" data-v-43e5dab6>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-43e5dab6><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-1c2cc348><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="#å‰è¨€">å‰è¨€</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#plugin-ç›¸å¯¹äº-loader-æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ">plugin ç›¸å¯¹äº loader æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#plugin-è¯¥æ€ä¹ˆé…ç½®å‘¢ï¼Ÿ">plugin è¯¥æ€ä¹ˆé…ç½®å‘¢ï¼Ÿ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æœ‰å“ªäº›å¸¸è§çš„-pluginï¼Ÿ">æœ‰å“ªäº›å¸¸è§çš„ pluginï¼Ÿ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ€ä¹ˆå†™ä¸€ä¸ª-pluginï¼Ÿ">æ€ä¹ˆå†™ä¸€ä¸ª pluginï¼Ÿ</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#tapable">tapable</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#compiler">compiler</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#compilation">compilation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#çƒ­èº«">çƒ­èº«</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#å®æˆ˜">å®æˆ˜</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ‹“å±•">æ‹“å±•</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#ç³»åˆ—æ–‡ç« ">ç³»åˆ—æ–‡ç« </a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ„Ÿè°¢">æ„Ÿè°¢</a><!----></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-3d00e640><div class="container" data-v-3d00e640><!--[--><!--]--><div style="position:relative;" class="content" data-v-3d00e640><div><h1 id="ã€Œwebpack-æ ¸å¿ƒç‰¹æ€§ã€æ’ä»¶-plugin" tabindex="-1">ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€æ’ä»¶(plugin) <a class="header-anchor" href="#ã€Œwebpack-æ ¸å¿ƒç‰¹æ€§ã€æ’ä»¶-plugin" aria-hidden="true">#</a></h1><h2 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a></h2><p>å¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™äº›é—®é¢˜ï¼š</p><ul><li>webpack æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶æ²¡æœ‰å‹ç¼©</li><li>é™æ€æ–‡ä»¶è¦æ‰‹åŠ¨æ‹·è´åˆ°è¾“å‡ºç›®å½•</li><li>ä»£ç ä¸­å†™äº†å¾ˆå¤šç¯å¢ƒåˆ¤æ–­çš„å¤šä½™ä»£ç </li></ul><p>ä¸Šä¸€ç¯‡ <a href="https://juejin.cn/post/6916315177411411981" target="_blank" rel="noopener noreferrer">ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€loader</a> è¯´åˆ° webpack çš„ <code>loader</code> æœºåˆ¶ï¼Œæœ¬æ–‡ä¸»è¦èŠä¸€èŠå¦å¤–ä¸€ä¸ªæ ¸å¿ƒç‰¹æ€§ï¼šæ’ä»¶(<code>plugin</code>)ã€‚</p><p>æ’ä»¶æœºåˆ¶å°±æ˜¯ä¸ºäº†å®Œæˆé¡¹ç›®ä¸­é™¤äº†èµ„æºæ¨¡å—æ‰“åŒ…ä»¥å¤–çš„å…¶ä»–è‡ªåŠ¨åŒ–å·¥ä½œï¼Œè§£å†³ä¸Šè¿°çš„é—®é¢˜ã€‚</p><p><code>plugin</code> æ˜¯ç”¨æ¥æ‰©å±• webpack åŠŸèƒ½çš„ï¼Œé€šè¿‡åœ¨æ„å»ºæµç¨‹é‡Œæ³¨å…¥é’©å­å®ç°ï¼Œå®ƒä¸º webpack å¸¦æ¥äº†å¾ˆå¤§çš„çµæ´»æ€§ã€‚</p><h2 id="plugin-ç›¸å¯¹äº-loader-æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ" tabindex="-1">plugin ç›¸å¯¹äº loader æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ <a class="header-anchor" href="#plugin-ç›¸å¯¹äº-loader-æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ" aria-hidden="true">#</a></h2><p><code>loader</code> æ˜¯è½¬æ¢å™¨ï¼Œå°†ä¸€ç§æ–‡ä»¶ç¼–è¯‘è½¬æ¢ä¸ºå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œæ“ä½œçš„æ˜¯æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼šå°† <code>.less</code> æ–‡ä»¶è½¬æ¢æˆ <code>.css</code> æ–‡ä»¶ã€‚</p><p><code>plugin</code> æ˜¯æ‰©å±•å™¨ï¼Œå®ƒæ˜¯é’ˆå¯¹ <code>loader</code> ç»“æŸä¹‹åï¼Œæ‰“åŒ…çš„æ•´ä¸ªè¿‡ç¨‹ã€‚å®ƒå¹¶ä¸ç›´æ¥æ“ä½œæ–‡ä»¶ï¼Œè€Œæ˜¯åŸºäºäº‹ä»¶æœºåˆ¶å·¥ä½œã€‚åœ¨ webpack æ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºä¼šå¹¿æ’­å¯¹åº”çš„äº‹ä»¶ï¼Œæ’ä»¶å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶çš„å‘ç”Ÿï¼Œåœ¨ç‰¹å®šçš„æ—¶æœºåšå¯¹åº”çš„äº‹æƒ…ã€‚åŒ…æ‹¬ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ã€‚</p><h2 id="plugin-è¯¥æ€ä¹ˆé…ç½®å‘¢ï¼Ÿ" tabindex="-1">plugin è¯¥æ€ä¹ˆé…ç½®å‘¢ï¼Ÿ <a class="header-anchor" href="#plugin-è¯¥æ€ä¹ˆé…ç½®å‘¢ï¼Ÿ" aria-hidden="true">#</a></h2><p>ä¾‹å¦‚ <code>HtmlWebpackPlugin</code> å¯ä»¥ä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬ä½¿ç”¨ <code>script</code> æ ‡ç­¾çš„ body ä¸­çš„æ‰€æœ‰æ¨¡å—ã€‚çœ‹ä¸‹å¦‚ä½•é…ç½®ï¼š</p><div class="language-js"><pre><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> webpackConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>æ¸©é¦¨æç¤ºï¼š<code>loader</code> åœ¨ module.rules ä¸­é…ç½®ï¼Œä½œä¸ºæ¨¡å—çš„è§£æè§„åˆ™ï¼Œç±»å‹ä¸ºæ•°ç»„ã€‚æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå†…éƒ¨åŒ…å«äº† test(ç±»å‹æ–‡ä»¶)ã€loaderã€options(å‚æ•°)ç­‰å±æ€§ã€‚<code>plugin</code> åˆ™å•ç‹¬é…ç½®ï¼Œç±»å‹ä¸ºæ•°ç»„ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ª <code>plugin</code> çš„å®ä¾‹ï¼Œå‚æ•°éƒ½é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ã€‚</p></blockquote><h2 id="æœ‰å“ªäº›å¸¸è§çš„-pluginï¼Ÿ" tabindex="-1">æœ‰å“ªäº›å¸¸è§çš„ pluginï¼Ÿ <a class="header-anchor" href="#æœ‰å“ªäº›å¸¸è§çš„-pluginï¼Ÿ" aria-hidden="true">#</a></h2><p>ä¸‹é¢æ•´ç†çš„æ’ä»¶åˆ—è¡¨æ¥è‡ª webpack ä¸­æ–‡å®˜ç½‘ï¼Œå¤§å®¶çœ‹è§ä¸ç†Ÿæ‚‰çš„ <code>plugin</code> å¯ä»¥ç‚¹å‡»åç§°è·³è½¬ï¼Œçœ‹ä¸€çœ‹ï¼Œäº†è§£ä¸€ä¸‹å…·ä½“ç©æ³•ã€‚</p><table><thead><tr><th>åç§°</th><th>æè¿°</th></tr></thead><tbody><tr><td><a href="https://www.webpackjs.com/plugins/aggressive-splitting-plugin/" target="_blank" rel="noopener noreferrer">AggressiveSplittingPlugin</a></td><td>å°†åŸæ¥çš„ chunk åˆ†æˆæ›´å°çš„ chunk</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/babel-minify-webpack-plugin/" target="_blank" rel="noopener noreferrer">BabelMinifyWebpackPlugin</a></td><td>ä½¿ç”¨ babel-minify è¿›è¡Œå‹ç¼©</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/banner-plugin/" target="_blank" rel="noopener noreferrer">BannerPlugin</a></td><td>åœ¨æ¯ä¸ªç”Ÿæˆçš„ chunk é¡¶éƒ¨æ·»åŠ  banner</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/commons-chunk-plugin/" target="_blank" rel="noopener noreferrer">CommonsChunkPlugin</a></td><td>æå– chunks ä¹‹é—´å…±äº«çš„é€šç”¨æ¨¡å—</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/compression-webpack-plugin/" target="_blank" rel="noopener noreferrer">CompressionWebpackPlugin</a></td><td>é¢„å…ˆå‡†å¤‡çš„èµ„æºå‹ç¼©ç‰ˆæœ¬ï¼Œä½¿ç”¨ Content-Encoding æä¾›è®¿é—®æœåŠ¡</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/context-replacement-plugin/" target="_blank" rel="noopener noreferrer">ContextReplacementPlugin</a></td><td>é‡å†™ require è¡¨è¾¾å¼çš„æ¨æ–­ä¸Šä¸‹æ–‡</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/copy-webpack-plugin/" target="_blank" rel="noopener noreferrer">CopyWebpackPlugin</a></td><td>å°†å•ä¸ªæ–‡ä»¶æˆ–æ•´ä¸ªç›®å½•å¤åˆ¶åˆ°æ„å»ºç›®å½•</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/define-plugin/" target="_blank" rel="noopener noreferrer">DefinePlugin</a></td><td>å…è®¸åœ¨ç¼–è¯‘æ—¶(compile time)é…ç½®çš„å…¨å±€å¸¸é‡</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/dll-plugin/" target="_blank" rel="noopener noreferrer">DllPlugin</a></td><td>ä¸ºäº†æå¤§å‡å°‘æ„å»ºæ—¶é—´ï¼Œè¿›è¡Œ dll åˆ†åŒ…</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/environment-plugin" target="_blank" rel="noopener noreferrer">EnvironmentPlugin</a></td><td>DefinePlugin ä¸­ process.<wbr>env é”®çš„ç®€å†™æ–¹å¼ã€‚</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/extract-text-webpack-plugin" target="_blank" rel="noopener noreferrer">ExtractTextWebpackPlugin</a></td><td>ä» bundle ä¸­æå–æ–‡æœ¬ï¼ˆCSSï¼‰åˆ°å•ç‹¬çš„æ–‡ä»¶</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/hot-module-replacement-plugin" target="_blank" rel="noopener noreferrer">HotModuleReplacementPlugin</a></td><td>å¯ç”¨æ¨¡å—çƒ­æ›¿æ¢(Enable Hot Module Replacement - HMR)</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/html-webpack-plugin" target="_blank" rel="noopener noreferrer">HtmlWebpackPlugin</a></td><td>ç®€å•åˆ›å»º HTML æ–‡ä»¶ï¼Œç”¨äºæœåŠ¡å™¨è®¿é—®</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/i18n-webpack-plugin" target="_blank" rel="noopener noreferrer">I18nWebpackPlugin</a></td><td>ä¸º bundle å¢åŠ å›½é™…åŒ–æ”¯æŒ</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/ignore-plugin" target="_blank" rel="noopener noreferrer">IgnorePlugin</a></td><td>ä» bundle ä¸­æ’é™¤æŸäº›æ¨¡å—</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/limit-chunk-count-plugin" target="_blank" rel="noopener noreferrer">LimitChunkCountPlugin</a></td><td>è®¾ç½® chunk çš„æœ€å°/æœ€å¤§é™åˆ¶ï¼Œä»¥å¾®è°ƒå’Œæ§åˆ¶ chunk</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/loader-options-plugin" target="_blank" rel="noopener noreferrer">LoaderOptionsPlugin</a></td><td>ç”¨äºä» webpack 1 è¿ç§»åˆ° webpack 2</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/min-chunk-size-plugin" target="_blank" rel="noopener noreferrer">MinChunkSizePlugin</a></td><td>ç¡®ä¿ chunk å¤§å°è¶…è¿‡æŒ‡å®šé™åˆ¶</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/no-emit-on-errors-plugin" target="_blank" rel="noopener noreferrer">NoEmitOnErrorsPlugin</a></td><td>åœ¨è¾“å‡ºé˜¶æ®µæ—¶ï¼Œé‡åˆ°ç¼–è¯‘é”™è¯¯è·³è¿‡</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/normal-module-replacement-plugin" target="_blank" rel="noopener noreferrer">NormalModuleReplacementPlugin</a></td><td>æ›¿æ¢ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„èµ„æº</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/npm-install-webpack-plugin" target="_blank" rel="noopener noreferrer">NpmInstallWebpackPlugin</a></td><td>åœ¨å¼€å‘æ—¶è‡ªåŠ¨å®‰è£…ç¼ºå°‘çš„ä¾èµ–</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/provide-plugin" target="_blank" rel="noopener noreferrer">ProvidePlugin</a></td><td>ä¸å¿…é€šè¿‡ import/require ä½¿ç”¨æ¨¡å—</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/source-map-dev-tool-plugin" target="_blank" rel="noopener noreferrer">SourceMapDevToolPlugin</a></td><td>å¯¹ source map è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/eval-source-map-dev-tool-plugin" target="_blank" rel="noopener noreferrer">EvalSourceMapDevToolPlugin</a></td><td>å¯¹ eval source map è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/uglifyjs-webpack-plugin" target="_blank" rel="noopener noreferrer">UglifyjsWebpackPlugin</a></td><td>å¯ä»¥æ§åˆ¶é¡¹ç›®ä¸­ UglifyJS çš„ç‰ˆæœ¬</td></tr><tr><td><a href="https://www.webpackjs.com/plugins/zopfli-webpack-plugin/" target="_blank" rel="noopener noreferrer">ZopfliWebpackPlugin</a></td><td>é€šè¿‡ node-zopfli å°†èµ„æºé¢„å…ˆå‹ç¼©çš„ç‰ˆæœ¬</td></tr></tbody></table><h2 id="æ€ä¹ˆå†™ä¸€ä¸ª-pluginï¼Ÿ" tabindex="-1">æ€ä¹ˆå†™ä¸€ä¸ª pluginï¼Ÿ <a class="header-anchor" href="#æ€ä¹ˆå†™ä¸€ä¸ª-pluginï¼Ÿ" aria-hidden="true">#</a></h2><p>åœ¨è¯´æ€ä¹ˆå†™æ’ä»¶ä¹‹å‰ï¼Œå…ˆç®€å•ä»‹ç»å‡ ä¸ªå¥½ç©çš„ä¸œè¥¿ï¼š<code>tapable</code>ã€<code>compiler</code> å’Œ <code>compilation</code>ã€‚</p><h3 id="tapable" tabindex="-1">tapable <a class="header-anchor" href="#tapable" aria-hidden="true">#</a></h3><p><code>tapable</code> æ˜¯ä¸€ä¸ªç±»ä¼¼äº <code>nodejs</code> çš„ <code>EventEmitter</code> çš„åº“, ä¸»è¦æ˜¯æ§åˆ¶é’©å­å‡½æ•°çš„å‘å¸ƒä¸è®¢é˜…ã€‚å½“ç„¶ï¼Œ<code>tapable</code> æä¾›çš„ <code>hook</code> æœºåˆ¶æ¯”è¾ƒå…¨é¢ï¼Œåˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ä¸¤ä¸ªå¤§ç±»(å¼‚æ­¥ä¸­åˆåŒºåˆ†å¼‚æ­¥å¹¶è¡Œå’Œå¼‚æ­¥ä¸²è¡Œ)ï¼Œè€Œæ ¹æ®äº‹ä»¶æ‰§è¡Œçš„ç»ˆæ­¢æ¡ä»¶çš„ä¸åŒï¼Œç”±è¡ç”Ÿå‡º <code>Bail</code> / <code>Waterfall</code> / <code>Loop</code> ç±»å‹ã€‚</p><p>åŸºæœ¬ä½¿ç”¨ï¼š</p><div class="language-js"><pre><code><span class="token keyword">const</span> <span class="token punctuation">{</span> SyncHook <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;tapable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hook <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">hook</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;july&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// hello july</span>
<span class="token comment">// hi july</span>
</code></pre></div><p>å°ç»“ï¼š</p><p><code>tapable</code> åŸºæœ¬é€»è¾‘æ˜¯ï¼Œå…ˆé€šè¿‡ç±»å®ä¾‹çš„ <code>tap</code> æ–¹æ³•æ³¨å†Œå¯¹åº” <code>hook</code> çš„å¤„ç†å‡½æ•°ï¼Œç„¶åé€šè¿‡ <code>call</code> æ–¹æ³•è§¦å‘å›è°ƒå‡½æ•°ã€‚</p><h3 id="compiler" tabindex="-1">compiler <a class="header-anchor" href="#compiler" aria-hidden="true">#</a></h3><p><code>compiler</code> å¯¹è±¡åŒ…å« webpack ç¯å¢ƒæ‰€æœ‰é…ç½®ä¿¡æ¯ï¼ŒåŒ…å« optionsã€loaders å’Œ plugins ç­‰ä¿¡æ¯ã€‚å¯ä»¥ç®€å•ç†è§£ä¸º webpack å®ä¾‹ã€‚<strong>ä»£è¡¨æ•´ä¸ª webpack ä»å¯åŠ¨åˆ°å…³é—­çš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚</p><p><code>compile</code> çš„å†…éƒ¨å®ç°ï¼š</p><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">Compiler</span> <span class="token keyword">extends</span> <span class="token class-name">Tapable</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">/** @type {SyncBailHook&lt;Compilation&gt;} */</span>
      <span class="token literal-property property">shouldEmit</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">SyncBailHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;compilation&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {AsyncSeriesHook&lt;Stats&gt;} */</span>
      <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AsyncSeriesHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;stats&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {AsyncSeriesHook&lt;&gt;} */</span>
      <span class="token literal-property property">additionalPass</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AsyncSeriesHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {AsyncSeriesHook&lt;Compiler&gt;} */</span>
      <span class="token operator">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å°ç»“ï¼š</p><p><code>compile</code> ç»§æ‰¿äº† <code>tapable</code> ï¼Œç„¶ååœ¨å®ä¾‹ä¸Šç»‘å®šäº†ä¸€ä¸ª <code>hook</code> å¯¹è±¡ã€‚</p><h3 id="compilation" tabindex="-1">compilation <a class="header-anchor" href="#compilation" aria-hidden="true">#</a></h3><p><code>compilation</code> å¯¹è±¡åŒ…å«äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºå’Œå˜åŒ–çš„æ–‡ä»¶ç­‰ã€‚<strong>ä»…ä»£è¡¨ä¸€æ¬¡æ–°çš„ç¼–è¯‘</strong>ã€‚</p><p><code>compilation</code> çš„å®ç°ï¼š</p><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">Compilation</span> <span class="token keyword">extends</span> <span class="token class-name">Tapable</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * Creates an instance of Compilation.
   * @param {Compiler} compiler the compiler which created the compilation
   */</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">/** @type {SyncHook&lt;Module&gt;} */</span>
      <span class="token literal-property property">buildModule</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;module&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {SyncHook&lt;Module&gt;} */</span>
      <span class="token literal-property property">rebuildModule</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;module&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {SyncHook&lt;Module, Error&gt;} */</span>
      <span class="token literal-property property">failedModule</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {SyncHook&lt;Module&gt;} */</span>
      <span class="token literal-property property">succeedModule</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;module&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {SyncHook&lt;Dependency, string&gt;} */</span>
      <span class="token literal-property property">addEntry</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;entry&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/** @type {SyncHook&lt;Dependency, string, Error&gt;} */</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å½“è¿è¡Œ webpack å¼€å‘ç¯å¢ƒä¸­é—´ä»¶æ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ <code>compilation</code>ï¼Œä»è€Œç”Ÿæˆä¸€ç»„æ–°çš„ç¼–è¯‘èµ„æºã€‚ä¸€ä¸ª <code>compilation</code> å¯¹è±¡è¡¨ç°äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ã€ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ã€‚<code>compilation</code> å¯¹è±¡ä¹Ÿæä¾›äº†å¾ˆå¤šå…³é”®æ—¶æœºçš„å›è°ƒï¼Œä»¥ä¾›æ’ä»¶åšè‡ªå®šä¹‰å¤„ç†æ—¶é€‰æ‹©ä½¿ç”¨ã€‚</p><h3 id="çƒ­èº«" tabindex="-1">çƒ­èº« <a class="header-anchor" href="#çƒ­èº«" aria-hidden="true">#</a></h3><p>å†™ä¸€ä¸ªæœ€åŸºç¡€çš„ <code>plugin</code>ï¼š</p><div class="language-js"><pre><code><span class="token comment">// ä¸€ä¸ª JavaScript å‘½åå‡½æ•°ã€‚</span>
<span class="token keyword">function</span> <span class="token function">SimplePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// åœ¨æ’ä»¶å‡½æ•°çš„ prototype ä¸Šå®šä¹‰ä¸€ä¸ª `apply` æ–¹æ³•ã€‚</span>
<span class="token class-name">SimplePlugin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">apply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æŒ‡å®šä¸€ä¸ªæŒ‚è½½åˆ° webpack è‡ªèº«çš„äº‹ä»¶é’©å­ã€‚</span>
  compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&quot;webpacksEventHook&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>
    compilation <span class="token comment">/* å¤„ç† webpack å†…éƒ¨å®ä¾‹çš„ç‰¹å®šæ•°æ®ã€‚*/</span><span class="token punctuation">,</span>
    callback
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;This is an simple plugin!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åŠŸèƒ½å®Œæˆåè°ƒç”¨ webpack æä¾›çš„å›è°ƒã€‚</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>webpack å¯åŠ¨åï¼Œåšäº†ä¸‹é¢å‡ ä»¶äº‹æƒ…ï¼š</p><ul><li>åœ¨è¯»å–é…ç½®çš„è¿‡ç¨‹ä¸­å…ˆæ‰§è¡Œ <code>new SimplePlugin()</code>ï¼Œåˆå§‹åŒ–ä¸€ä¸ª SimplePlugin å¹¶è·å¾—å…¶å®ä¾‹ã€‚</li><li>åœ¨åˆå§‹åŒ– <code>compiler</code> å¯¹è±¡åï¼Œå†è°ƒç”¨ <code>SimplePlugin.apply(compiler)</code> ä¸ºæ’ä»¶å®ä¾‹ä¼ å…¥ <code>compiler</code> å¯¹è±¡ã€‚</li><li>æ’ä»¶å®ä¾‹åœ¨è·å–åˆ° <code>compiler</code> å¯¹è±¡åï¼Œå°±å¯ä»¥é€šè¿‡ <code>compiler.plugin(&quot;webpacksEventHook&quot;, function(compilation, callback){})</code> ç›‘å¬åˆ° webpack å¹¿æ’­çš„äº‹ä»¶ï¼Œå¹¶ä¸”é€šè¿‡ <code>compiler</code> å¯¹è±¡å»æ“ä½œ webpackã€‚</li></ul><h3 id="å®æˆ˜" tabindex="-1">å®æˆ˜ <a class="header-anchor" href="#å®æˆ˜" aria-hidden="true">#</a></h3><p>ä¸‹é¢å†™ä¸€ä¸ªå®ç”¨çš„æ’ä»¶ã€‚</p><p>ä½œç”¨æ˜¯åœ¨ webpack é©¬ä¸Šå…³é—­æ—¶åšä¸€äº›äº‹æƒ…ã€‚ä¾‹å¦‚å‘ŠçŸ¥ç”¨æ‰“åŒ…å®Œæˆï¼Œæ˜¯å¦æ‰§è¡ŒæˆåŠŸã€‚æˆ–è€…æ‰§è¡Œä¸€äº› <code>script</code> è„šæœ¬ã€‚æˆ‘ä»¬å°†å…¶å‘½åä¸º <code>AfterWebpackPlugin</code> ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š</p><div class="language-js"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// åˆ†åˆ«ä¼ å…¥æˆåŠŸå’Œå¤±è´¥æ—¶çš„å›è°ƒå‡½æ•°</span>
    <span class="token keyword">new</span> <span class="token class-name">AfterWebpackPlugin</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¯ä»¥é€šçŸ¥ç”¨æˆ·æ„å»ºæˆåŠŸï¼Œæ‰§è¡Œå‘å¸ƒè„šæœ¬</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ„å»ºå¤±è´¥æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™é‡Œå®ç°è¿‡ç¨‹éœ€è¦å€ŸåŠ©ä»¥ä¸‹ä¸¤ä¸ªé’©å­ï¼š</p><ul><li><strong>done</strong>ï¼šåœ¨æˆåŠŸæ„å»ºå¹¶ä¸”è¾“å‡ºæ–‡ä»¶åï¼Œwebpack é©¬ä¸Šé€€å‡ºæ—¶å‘ç”Ÿã€‚</li><li><strong>failed</strong>ï¼šåœ¨æ„å»ºå¼‚å¸¸æ—¶å¯¼è‡´æ„å»ºå¤±è´¥ï¼Œwebpack é©¬ä¸Šé€€å‡ºæ—¶å‘ç”Ÿã€‚</li></ul><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">AfterWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">doneCb<span class="token punctuation">,</span> failedCb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¼ å…¥å›è°ƒå‡½æ•°</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>doneCb <span class="token operator">=</span> doneCb<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>failedCb <span class="token operator">=</span> failedCb<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// webpack ç”Ÿå‘½å‘¨æœŸ `done` ä¸­çš„å›è°ƒ</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doneCb</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&quot;failed&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// webpack ç”Ÿå‘½å‘¨æœŸ `failed` ä¸­çš„å›è°ƒ</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">failedCb</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> AfterWebpackPlugin<span class="token punctuation">;</span>
</code></pre></div><p>å¼€å‘æ’ä»¶å°ç»“ï¼š</p><ul><li>æ³¨æ„åœ¨ webpack ç”Ÿå‘½å‘¨æœŸä¸­æ‰¾åˆ°åˆé€‚çš„é’©å­å»å®ŒæˆåŠŸèƒ½ã€‚</li><li>æ³¨æ„ç†è§£ webpack ç”Ÿå‘½å‘¨æœŸä¸­å„ä¸ªé’©å­çš„ç»†å¾®åŒºåˆ«ã€‚</li></ul><h2 id="æ‹“å±•" tabindex="-1">æ‹“å±• <a class="header-anchor" href="#æ‹“å±•" aria-hidden="true">#</a></h2><p>webpack <strong>è¾“å‡ºé˜¶æ®µ</strong>ä¼šå‘ç”Ÿçš„äº‹ä»¶åŠè§£é‡Šå¦‚ä¸‹ï¼š</p><table><thead><tr><th>äº‹ä»¶å</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>should-emit</td><td>æ‰€æœ‰éœ€è¦è¾“å‡ºçš„æ–‡ä»¶å·²ç»ç”Ÿæˆï¼Œè¯¢é—®æ’ä»¶æœ‰å“ªäº›æ–‡ä»¶éœ€è¦è¾“å‡ºï¼Œæœ‰å“ªäº›ä¸éœ€è¦è¾“å‡º</td></tr><tr><td>emit</td><td>ç¡®å®šå¥½è¦è¾“å‡ºå“ªäº›æ–‡ä»¶åï¼Œæ‰§è¡Œæ–‡ä»¶è¾“å‡ºï¼Œå¯ä»¥åœ¨è¿™é‡Œè·å–å’Œä¿®æ”¹è¾“å‡ºçš„å†…å®¹</td></tr><tr><td>after-emit</td><td>æ–‡ä»¶è¾“å‡ºå®Œæ¯•</td></tr><tr><td>done</td><td>æˆåŠŸå®Œæˆä¸€æ¬¡å®Œæ•´çš„ç¼–è¯‘å’Œè¾“å‡ºæµç¨‹</td></tr><tr><td>failed</td><td>å¦‚æœåœ¨ç¼–è¯‘å’Œè¾“å‡ºçš„æµç¨‹é‡åˆ°å¼‚å¸¸ï¼Œå¯¼è‡´ webpack é€€å‡ºï¼Œå°±ä¼šç›´æ¥è·³è½¬åˆ°æœ¬æ­¥éª¤ï¼Œæ’ä»¶å¯ä»¥åœ¨æœ¬äº‹ä»¶ä¸­è·å–å…·ä½“é”™è¯¯åŸå› </td></tr></tbody></table><h2 id="ç³»åˆ—æ–‡ç« " tabindex="-1">ç³»åˆ—æ–‡ç«  <a class="header-anchor" href="#ç³»åˆ—æ–‡ç« " aria-hidden="true">#</a></h2><ul><li><a href="https://juejin.cn/post/6916315177411411981" target="_blank" rel="noopener noreferrer">ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€loader</a></li><li>ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€æ’ä»¶(plugin)</li><li><a href="https://juejin.cn/post/6870258201384714253" target="_blank" rel="noopener noreferrer">ã€Œwebpack æ ¸å¿ƒç‰¹æ€§ã€æ¨¡å—çƒ­æ›¿æ¢(HMR)</a></li></ul><h2 id="æ„Ÿè°¢" tabindex="-1">æ„Ÿè°¢ <a class="header-anchor" href="#æ„Ÿè°¢" aria-hidden="true">#</a></h2><ul><li>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ© ğŸ˜˜ï¼Œå°±ç‚¹ä¸ª<a href="https://github.com/yanxugong/blog" target="_blank" rel="noopener noreferrer">Star ğŸ‘</a> æ”¯æŒä¸‹å§ï¼æ„Ÿè°¢é˜…è¯»ã€‚</li></ul></div></div><footer class="page-footer" data-v-3d00e640 data-v-0d8328fe><div class="edit" data-v-0d8328fe><div class="edit-link" data-v-0d8328fe data-v-f484245e><a class="link" href="https://github.com/yanxugong/blog-next/edit/main/study/engineering/webpack-plugin.md" target="_blank" rel="noopener noreferrer" data-v-f484245e>ä¸ºæ­¤é¡µæä¾›ä¿®æ”¹å»ºè®® <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-f484245e><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-0d8328fe><!----></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"about_index.md\":\"c8fb677e\",\"emotion_index.md\":\"9df12840\",\"index.md\":\"122593cd\",\"photography_index.md\":\"8ab54a43\",\"study_algorithm_linked-list.md\":\"56de5a22\",\"study_engineering_vite.md\":\"a5e68948\",\"study_engineering_webpack-hmr.md\":\"fd9d7b24\",\"study_engineering_webpack-loader.md\":\"c44e1d7e\",\"study_engineering_webpack-main.md\":\"c92b7e90\",\"study_engineering_webpack-plugin.md\":\"b64db039\",\"study_frame_deep-react-one.md\":\"9567db07\",\"study_frame_deep-react-two.md\":\"647e3106\",\"study_index.md\":\"24d0e116\",\"study_js-basis_implementation-mechanism.md\":\"5724d96f\",\"study_js-basis_prototype-and-prototype-chain.md\":\"dffe13ab\",\"study_js-basis_scope-and-closure.md\":\"128bae09\",\"study_js-basis_syntax-and-api.md\":\"53be698c\",\"study_js-basis_variables-and-types.md\":\"9fcfaf7a\",\"study_js-basis_you-do-not-konw-js-down.md\":\"96afbde7\",\"study_js-basis_you-do-not-konw-js.md\":\"646fef6b\",\"study_network_from-url-to-page-render.md\":\"ffd09749\",\"study_performance-optimization_first-screen.md\":\"0aa2c624\",\"study_server_go-getting-started.md\":\"ce44aeeb\",\"study_vue3_responsive-system.md\":\"d48489bb\"}")</script>
    <script type="module" async src="/blog-next/assets/app.acdedced.js"></script>
    
  </body>
</html>